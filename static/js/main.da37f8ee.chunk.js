(this["webpackJsonpweathering-image"]=this["webpackJsonpweathering-image"]||[]).push([[0],{1:function(e,t,a){},10:function(e,t,a){e.exports=a(16)},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),i=a.n(l);a(1);var u=function(e){return r.a.createElement("header",null,r.a.createElement("h1",null,document.title),r.a.createElement("p",null,"\ub514\uc9c0\ud138 \ud48d\ud654\ub97c \uc88b\uc544\ud558\uc2dc\ub294 \uc5ec\ub7ec\ubd84\uc744 \uc704\ud55c \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4. \uc800\ud654\uc9c8\uc758 \uc774\ubbf8\uc9c0\ub97c \uc27d\uace0 \ube60\ub974\uac8c \ub9cc\ub4e4\uc5b4 \ubcf4\uc138\uc694!"))},o="https://github.com/juo6442/weathering-image";var c=function(e){return r.a.createElement("footer",null,r.a.createElement("hr",null),r.a.createElement("p",null,"GitHub: ",r.a.createElement("a",{href:o},o)))},g=a(5),h=a(6),m=a(9),s=a(8),d=a(2),f=a.n(d),p=a(7);function v(e){return new Promise((function(t){var a=new Image;a.onload=function(){t(a)},a.src=e}))}function w(e,t,a,n){var r=document.createElement("canvas");r.width=a,r.height=n;var l=r.getContext("2d");return l.fillStyle="white",l.fillRect(0,0,r.width,r.height),l.drawImage(e,0,0,r.width,r.height),r.toDataURL("image/jpeg",t)}function E(e,t,a,n,r,l){var i=document.createElement("canvas");i.width=r,i.height=l;var u=i.getContext("2d");return u.drawImage(e,0,0,i.width,i.height),u.globalCompositeOperation="overlay",u.fillStyle="black",u.globalAlpha=t,u.fillRect(0,0,i.width,i.height),u.globalCompositeOperation="color-burn",u.fillStyle="rgb(230, 225, 170)",u.globalAlpha=a,u.fillRect(0,0,i.width,i.height),i.toDataURL("image/jpeg",n)}function y(){return(y=Object(p.a)(f.a.mark((function e(t,a){var n,r,l,i,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,v(t);case 4:return n=e.sent,r=n.width,l=n.height,u=w(n,(100-a)/100,r*(i=.5*(1-a/100)+.5),l*i),e.t0=E,e.next=12,v(u);case 12:return e.t1=e.sent,e.t2=a/100*.1,e.t3=a/100,e.t4=(100-a)/100,e.t5=r,e.t6=l,u=(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6),e.abrupt("return",u);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={imageData:null,degrade:0,degradedImageData:null},n.loadSampleImage(),n}return Object(h.a)(a,[{key:"handleImageLoad",value:function(e){this.setState({degrade:0,imageData:e},this.refreshResult)}},{key:"handleDragOver",value:function(e){e.preventDefault()}},{key:"handleDrop",value:function(e){if(e.preventDefault(),"file"===e.dataTransfer.items[0].kind){var t=e.dataTransfer.items[0].getAsFile();this.loadSelectedImage(t)}}},{key:"handleQualityChange",value:function(e){this.setState({degrade:e.target.value},this.refreshResult)}},{key:"refreshResult",value:function(){var e=this;(function(e,t){return y.apply(this,arguments)})(this.state.imageData,this.state.degrade).then((function(t){e.setState({degradedImageData:t})}))}},{key:"loadSampleImage",value:function(){var e=this,t=new Image;t.onload=function(){var a=document.createElement("canvas");a.width=400,a.height=400,a.getContext("2d").drawImage(t,0,0,a.width,a.height),e.handleImageLoad(a.toDataURL("Image/jpeg"))},t.src=document.URL+"/sample.png"}},{key:"loadImage",value:function(e){var t=this;if(e){var a=new FileReader;a.onload=function(e){return t.handleImageLoad(e.target.result)},a.readAsDataURL(e)}}},{key:"showImageSelector",value:function(){document.getElementById("imageSelector").click()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"imageEditor",onDragOver:function(t){return e.handleDragOver(t)},onDrop:function(t){return e.handleDrop(t)}},r.a.createElement("div",{className:"buttonContainer"},r.a.createElement("input",{type:"file",id:"imageSelector",accept:"image/*",onChange:function(t){return e.loadImage(t.target.files[0])}}),r.a.createElement("input",{type:"button",value:"\uc774\ubbf8\uc9c0 \ubd88\ub7ec\uc624\uae30",onClick:function(){return e.showImageSelector()}})),r.a.createElement("img",{className:"image",alt:"\ubd88\ub7ec\uc628 \uc774\ubbf8\uc9c0",src:this.state.degradedImageData}),r.a.createElement("input",{type:"range",min:"0",max:"100",step:"5",value:this.state.degrade,onChange:function(t){return e.handleQualityChange(t)}}))}}]),a}(r.a.Component);function I(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(b,null),r.a.createElement(c,null))}i.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.da37f8ee.chunk.js.map